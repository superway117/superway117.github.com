(function(){var a,b;a=Spine.$;b=(function(){function c(){}c.toString=Object.prototype.toString;c.isString=function(d){return this.toString.call(d)==="[object String]"};c.isValidStockID=function(d){if(isNaN(d)){return false}if(d.length!==6){return false}return true};c.getNowDateString=function(){var d;d=new Date();return""+(d.getMonth()+1)+"-"+(d.getDate())+"-"+(d.getFullYear())};c.getDaysBeforeString=function(f){var e,d;d=new Date();e=new Date(d.getTime()-f*1000*60*60*24);return""+(e.getMonth()+1)+"-"+(e.getDate())+"-"+(e.getFullYear())};c.getDaysBeforeDate=function(e){var d;d=new Date();return new Date(d.getTime()-e*1000*60*60*24)};c.openPromptInfo=function(e,d){e.el.append(a("#promptInfoModalTmpl").tmpl(d));e.$("#promptInfoModal").modal();return e.$("#promptInfoModal").modal("show")};c.closePromptInfo=function(d){d.$("#promptInfoModal").modal("hide");return d.$("#promptInfoModal").remove()};c.openComfirmModal=function(g,f,e,d){var h=this;g.el.append(a("#comfirmModalTmpl").tmpl(f));g.$("#comfirmModal").modal();g.$("#comfirmModal").modal("show");g.$("#comfirmModal button.btn-primary").click(function(){if(typeof e==="function"){e()}h.closeComfirmModal(g);return false});return g.$("#comfirmModal button").click(function(){if(typeof d==="function"){d()}h.closeComfirmModal(g);return false})};c.closeComfirmModal=function(d){d.$("#comfirmModal").modal("hide");return d.$("#comfirmModal").remove()};c.openAlert=function(d,e){var f;d.append(a("#alertTmpl").tmpl(e));f=a(".alert",d);if(e.type){f.addClass(e.type)}f.show();return setTimeout(function(){f.remove();return false},1000)};c.openStockInputModal=function(g,f,d){var e,h,i=this;g.el.append(a("#stockInputModalTmpl").tmpl());e=g.$("#stockInputModal");h=g.$("#stockInputModal input[type=text]");h.typeahead({source:function(p,m){var l,o,n,k,j;o=Stock.StockDict.query(p);j=[];for(n=0,k=o.length;n<k;n++){l=o[n];j.push(l.join(","))}return j},matcher:function(){return true}});e.modal();e.modal("show");g.$("#stockInputModal button.btn-primary").click(function(){if(h.val()){if(typeof f==="function"){f(h.val())}i.closeStockInputModal(g)}return false});return g.$("#stockInputModal button").click(function(){if(typeof d==="function"){d()}i.closeStockInputModal(g);return false})};c.closeStockInputModal=function(e){var d;d=e.$("#stockInputModal");d.modal("hide");return d.remove()};return c})();window.Stock.Util=b}).call(this);